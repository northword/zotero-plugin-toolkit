<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [zotero-plugin-toolkit](./zotero-plugin-toolkit.md) &gt; [MenuManager](./zotero-plugin-toolkit.menumanager.md) &gt; [register](./zotero-plugin-toolkit.menumanager.register.md)

## MenuManager.register() method

Insert an menu item/menu(with popup)/menuseprator into a menupopup

**Signature:**

```typescript
register(menuPopup: XUL.MenuPopup | keyof typeof MenuSelector, options: MenuitemOptions, insertPosition?: "before" | "after", anchorElement?: XUL.Element): false | undefined;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  menuPopup | XUL.MenuPopup \| keyof typeof MenuSelector |  |
|  options | MenuitemOptions |  |
|  insertPosition | "before" \| "after" | _(Optional)_ |
|  anchorElement | XUL.Element | _(Optional)_ The menuitem will be put before/after <code>anchorElement</code>. If not set, put at start/end of the menupopup. |

**Returns:**

false \| undefined

## Remarks

options:

```ts
export interface MenuitemOptions {
  tag: "menuitem" | "menu" | "menuseparator";
  id?: string;
  label?: string;
  // data url (chrome://xxx.png) or base64 url (data:image/png;base64,xxx)
  icon?: string;
  class?: string;
  styles?: { [key: string]: string };
  hidden?: boolean;
  disabled?: boolean;
  oncommand?: string;
  commandListener?: EventListenerOrEventListenerObject;
  // Attributes below are used when type === "menu"
  popupId?: string;
  onpopupshowing?: string;
  subElementOptions?: Array<MenuitemOptions>;
}
```

## Example 1

Insert menuitem with icon into item menupopup

```ts
// base64 or chrome:// url
const menuIcon = "chrome://addontemplate/content/icons/favicon@0.5x.png";
ztoolkit.Menu.register("item", {
  tag: "menuitem",
  id: "zotero-itemmenu-addontemplate-test",
  label: "Addon Template: Menuitem",
  oncommand: "alert('Hello World! Default Menuitem.')",
  icon: menuIcon,
});
```

## Example 2

Insert menu into file menupopup

```ts
ztoolkit.Menu.register(
  "menuFile",
  {
    tag: "menu",
    label: "Addon Template: Menupopup",
    subElementOptions: [
      {
        tag: "menuitem",
        label: "Addon Template",
        oncommand: "alert('Hello World! Sub Menuitem.')",
      },
    ],
  },
  "before",
  Zotero.getMainWindow().document.querySelector(
    "#zotero-itemmenu-addontemplate-test"
  )
);
```

